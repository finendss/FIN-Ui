local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

-- æ·»åŠ æ¬¢è¿å¼¹çª—
WindUI:Popup({
    Title = "æ¬¢è¿ä½¿ç”¨æ±Ÿä¸“å±è„šæœ¬",
    Icon = "sparkles",
    Content = "å°Šæ•¬çš„æ±Ÿç”¨æˆ·ğŸ‘‘,ç¥ä½ å¤©å¤©å¼€å¿ƒ",
    Buttons = {
        {
            Title = "æ±Ÿ",
            Icon = "arrow-right",
            Variant = "Primary",
            Callback = function() 
                print("å¯åŠ¨æ±Ÿ")
                -- åˆ›å»ºä¸»çª—å£
                createMainWindow()
            end
        }
    }
})

function createMainWindow()
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hum = Character:WaitForChild("HumanoidRootPart")
    local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

    local Window = WindUI:CreateWindow({
        Title = "æ±Ÿ<font color='#00FF00'>1.0</font> / æ±Ÿ",
        Icon = "rbxassetid://4483362748",
        IconTransparency = 0.5,
        IconThemed = true,
        Author = "ä½œè€…:æ±Ÿ",
        Folder = "CloudHub",
        Size = UDim2.fromOffset(400, 300),
        Transparent = true,
        Theme = "Dark",
        User = {
            Enabled = true,
            Callback = function() print("clicked") end,
            Anonymous = false
        },
        SideBarWidth = 200,
        ScrollBarEnabled = true,
    })
  
        local TimeTag = Window:Tag({
        Title = "00:00",
        Color = Color3.fromHex("#30ff6a")
    })
    
    -- Rainbow effect & Time 
    local hue = 0
    task.spawn(function()
        while true do
            local now = os.date("*t")
            local hours = string.format("%02d", now.hour)
            local minutes = string.format("%02d", now.min)
            
            hue = (hue + 0.01) % 1
            local color = Color3.fromHSV(hue, 1, 1)
            
            TimeTag:SetTitle(hours .. ":" .. minutes)
            --TimeTag:SetColor(color)

            task.wait(0.06)
        end
    end)
    
    Window:Tag({
        Title = "æ±Ÿçš„ä¸“å±", -- æ ‡ç­¾æ±‰åŒ–
        Color = Color3.fromHex("#315dff")
    })
    local TimeTag = Window:Tag({
        Title = "xpç‹¬å®¶å®šåˆ¶",
        Color = Color3.fromHex("#000000")
    })

-- åˆ›å»ºå¸¦æœ‰è‡ªå®šä¹‰å›¾æ ‡çš„æ‰“å¼€æŒ‰é’®
Window:EditOpenButton({
    Title = "æ±Ÿè„šæœ¬",
    Icon = "rbxassetid://135846262070743",  -- ä½¿ç”¨ä½ å–œæ¬¢çš„å›¾æ ‡èµ„äº§ID
    IconSize = 40,  -- è®¾ç½®å›¾æ ‡å¤§å°
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("FF0F7B"), 
        Color3.fromHex("F89B29")
    ),
    Draggable = true,
})
    
    -- æ·»åŠ å½©è™¹è¾¹æ¡†æ•ˆæœ
    Window:EditOpenButton({
        StrokeColor = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),     -- çº¢è‰²
            ColorSequenceKeypoint.new(0.2, Color3.fromRGB(255, 165, 0)), -- æ©™è‰²
            ColorSequenceKeypoint.new(0.4, Color3.fromRGB(255, 255, 0)), -- é»„è‰²
            ColorSequenceKeypoint.new(0.6, Color3.fromRGB(0, 255, 0)),   -- ç»¿è‰²
            ColorSequenceKeypoint.new(0.8, Color3.fromRGB(0, 0, 255)),   -- è“è‰²
            ColorSequenceKeypoint.new(1, Color3.fromRGB(128, 0, 128))    -- ç´«è‰²
        }),
        StrokeThickness = 3,  -- å¢åŠ è¾¹æ¡†åšåº¦
    })
    
    local MainTab = Window:Tab({
        Title = "ä¸»é¡µ",
        Icon = "zap",
        Locked = false,
    })
    
    MainTab:Paragraph({
        Title = "æ¬¢è¿ä½¿ç”¨æ±Ÿ",
        Desc = "QQ 3667568342",
        Image = "rbxassetid://114477834305321",
        ImageSize = 42,
        Thumbnail = "rbxassetid://96291371536118",
        ThumbnailSize = 120
    })
    
    MainTab:Paragraph({
        Title = "æ„Ÿè°¢XPç”¨æˆ·çš„æ”¯æŒ",
        Desc = "å½“å‰æœåŠ¡å™¨ID: " .. game.PlaceId, -- æ˜¾ç¤ºæœåŠ¡å™¨ID
    })
    
    MainTab:Paragraph({
        Title = "æ‚¨çš„æ³¨å…¥å™¨",
        Desc = ": " .. identifyexecutor(), -- æ˜¾ç¤ºæ³¨å…¥å™¨ID
    })

-- ä»ç¬¬ä¸€ä¸ªæ–‡ä»¶å¯¼å…¥çš„æ‰€æœ‰åŠŸèƒ½
local bai = {
    autofram = false,
    SelectToolWeapon = nil,
    fastacttack = false,
    daoyu = nil,
    autonew = false,
    SelectToolWeaponOld = nil,
    zidongzhuanqian = false,
    autojiansuiguo = false,
    autosjiguoshi = false,
    z = false,
    x = false,
    c = false,
    v = false,
    zhangshaxian = 17,
    usefasttp = false,
    fanwei=false,
    autonextland=false,
    autoraid=false,
    selectraid=nil
}

function notify(Title, Text, Duration)
    game.StarterGui:SetCore("SendNotification", {
        Title = Title,
        Text = Text,
        Icon = nil,
        Duration = Duration
    })
end

local placeId = game.PlaceId
if placeId == 2753915549 then
     OldWorld = true
elseif placeId == 4442272183 then
    NewWorld = true
elseif placeId == 7449423635 then
     ThreeWorld = true
end

function NoClip(NoClipVal)
    if not NoClipVal then
        if Clipping then
            Clipping:Disconnect()
        end
        return
    end
    Clipping = game:GetService("RunService").Stepped:connect(function()
        for i, v in next, game.Players.LocalPlayer.Character:GetChildren() do
            if v:IsA("Part") or v:IsA("BasePart") then
                v.CanCollide = false
            end
        end
    end)
end

local Nonquest = false

function fasttp(p)
    game.Players.LocalPlayer.Character.Humanoid:ChangeState(15)
    repeat
        task.wait()
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = p
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SetSpawnPoint")
    until (p.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 1500 and
        game.Players.LocalPlayer.Character.Humanoid.Health > 0
    wait()
end

function tp(P, notfasttp)
    NoClip(true)
    Distance = (P.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
    if Distance < 10 then
        Speed = 1000
        game:GetService("TweenService"):Create(game.Players.LocalPlayer.Character.HumanoidRootPart,
            TweenInfo.new(Distance / Speed, Enum.EasingStyle.Linear), {
                CFrame = P + Vector3.new(0, 10, 0)
            }):Play()
    elseif Distance < 170 then
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = P
        Speed = 350
        game:GetService("TweenService"):Create(game.Players.LocalPlayer.Character.HumanoidRootPart,
            TweenInfo.new(Distance / Speed, Enum.EasingStyle.Linear), {
                CFrame = P + Vector3.new(0, 10, 0)
            }):Play()
    elseif Distance < 1000 then
        Speed = 450
        game:GetService("TweenService"):Create(game.Players.LocalPlayer.Character.HumanoidRootPart,
            TweenInfo.new(Distance / Speed, Enum.EasingStyle.Linear), {
                CFrame = P + Vector3.new(0, 10, 0)
            }):Play()
    elseif Distance >= 1000 then
        if notfasttp == nil and bai.usefasttp == true then
            NoClip(false)
            fasttp(P)
            NoClip(true)
            task.wait(1)
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = P
            task.wait(1)
            if (P.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 250 then
                NoClip(true)
                Speed = 150
                spawn(function()
                    repeat
                        wait()
                        spawn(function()
                            local part = Instance.new("Part", workspace)
                            part.Anchored = true
                            part.Size = Vector3.new(10, 0.1, 10)
                            part.Material = "Glass"
                            part.BrickColor = BrickColor.Random()
                            part.Transparency = 0.7
                            part.Position = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position +
                                                Vector3.new(0, -3.05, 0)
                            wait()
                            part.Destroy(part)
                        end)
                    until (P.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 100 and
                        game.Players.LocalPlayer.Character.Humanoid.Health > 0
                end)
                game:GetService("TweenService"):Create(game.Players.LocalPlayer.Character.HumanoidRootPart,
                    TweenInfo.new(Distance / Speed, Enum.EasingStyle.Linear), {
                        CFrame = P + Vector3.new(0, 10, 0)
                    }):Play()
            end
        else
            NoClip(true)
            Speed = 150
            spawn(function()
                repeat
                    wait()
                    spawn(function()
                        local part = Instance.new("Part", workspace)
                        part.Anchored = true
                        part.Size = Vector3.new(10, 0.1, 10)
                        part.Material = "Glass"
                        part.BrickColor = BrickColor.Random()
                        part.Transparency = 0.7
                        part.Position = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position +
                                            Vector3.new(0, -3.05, 0)
                        wait()
                        part.Destroy(part)
                    end)
                until (P.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 100 and
                    game.Players.LocalPlayer.Character.Humanoid.Health > 0
            end)
            game:GetService("TweenService"):Create(game.Players.LocalPlayer.Character.HumanoidRootPart,
                TweenInfo.new(Distance / Speed, Enum.EasingStyle.Linear), {
                    CFrame = P + Vector3.new(0, 10, 0)
                }):Play()
        end
    end
    NoClip(false)
end

function CheckQuest()
    local MyLevel = game.Players.LocalPlayer.Data.Level.Value
    if OldWorld then
        if MyLevel == 1 or MyLevel <= 9 then -- Bandit
            Nonquest = false
            Ms = "Bandit [Lv. 5]"
            NameQuest = "BanditQuest1"
            LevelQuest = 1
            NameMon = "Bandit"
            CFrameQuest = CFrame.new(1059.37195, 15.4495068, 1550.4231, 0.939700544, -0, -0.341998369, 0, 1, -0,
                0.341998369, 0, 0.939700544)
            CFrameMon = CFrame.new(1353.44885, 3.40935516, 1376.92029, 0.776053488, -6.97791975e-08, 0.630666852,
                6.99138596e-08, 1, 2.4612488e-08, -0.630666852, 2.49917598e-08, 0.776053488)
        elseif MyLevel == 10 or MyLevel <= 14 then -- Monkey
            Nonquest = false
            Ms = "Monkey [Lv. 14]"
            NameQuest = "JungleQuest"
            LevelQuest = 1
            NameMon = "Monkey"
            CFrameQuest = CFrame.new(-1598.08911, 35.5501175, 153.377838, 0, 0, 1, 0, 1, -0, -1, 0, 0)
            CFrameMon = CFrame.new(-1402.74609, 98.5633316, 90.6417007, 0.836947978, 0, 0.547282517, -0, 1, -0,
                -0.547282517, 0, 0.836947978)
        elseif MyLevel == 15 or MyLevel <= 29 then -- Gorilla
            Nonquest = false
            Ms = "Gorilla [Lv. 20]"
            NameQuest = "JungleQuest"
            LevelQuest = 2
            NameMon = "Gorilla"
            CFrameQuest = CFrame.new(-1598.08911, 35.5501175, 153.377838, 0, 0, 1, 0, 1, -0, -1, 0, 0)
            CFrameMon = CFrame.new(-1267.89001, 66.2034225, -531.818115, -0.813996196, -5.25169774e-08, -0.580869019,
                -5.58769671e-08, 1, -1.21082593e-08, 0.580869019, 2.26011476e-08, -0.813996196)
        elseif MyLevel == 30 or MyLevel <= 89 then -- Galley Captain
            Nonquest = true
            Ms = "Galley Captain [Lv. 650]"
            NameQuest = "FountainQuest"
            LevelQuest = 2
            NameMon = "Galley Captain"
            CFrameQuest = CFrame.new(5259.81982, 37.3500175, 4050.0293, 0.087131381, 0, 0.996196866, 0, 1, 0,
                -0.996196866, 0, 0.087131381)
            CFrameMon = CFrame.new(5782.90186, 94.5326462, 4716.78174, 0.361808896, -1.24757526e-06, -0.932252586,
                2.16989656e-06, 1, -4.96097414e-07, 0.932252586, -1.84339774e-06, 0.361808896)
        elseif MyLevel == 90 or MyLevel <= 99 then -- Snow Bandits
            Nonquest = false
            Ms = "Snow Bandit [Lv. 90]"
            NameQuest = "SnowQuest"
            LevelQuest = 1
            NameMon = "Snow Bandits"
            CFrameQuest = CFrame.new(1389.74451, 86.6520844, -1298.90796, -0.342042685, 0, 0.939684391, 0, 1, 0,
                -0.939684391, 0, -0.342042685)
            CFrameMon = CFrame.new(1412.92346, 55.3503647, -1260.62036, -0.246266365, -0.0169920288, -0.969053388,
                0.000432241941, 0.999844253, -0.0176417865, 0.969202161, -0.00476344163, -0.246220857)
        elseif MyLevel == 100 or MyLevel <= 119 then -- Snowman
            Nonquest = false
            Ms = "Snowman [Lv. 100]"
            NameQuest = "SnowQuest"
            LevelQuest = 2
            NameMon = "Snowman"
            CFrameQuest = CFrame.new(1389.74451, 86.6520844, -1298.90796, -0.342042685, 0, 0.939684391, 0, 1, 0,
                -0.939684391, 0, -0.342042685)
            CFrameMon = CFrame.new(1376.86401, 97.2779999, -1396.93115, -0.986755967, 7.71178321e-08, -0.162211925,
                7.71531674e-08, 1, 6.08143536e-09, 0.162211925, -6.51427134e-09, -0.986755967)
        elseif MyLevel == 120 or MyLevel <= 149 then -- Chief Petty Officer
            Nonquest = false
            Ms = "Chief Petty Officer [Lv. 120]"
            NameQuest = "MarineQuest2"
            LevelQuest = 1
            NameMon = "Chief Petty Officer"
            CFrameQuest = CFrame.new(-5039.58643, 27.3500385, 4324.68018, 0, 0, -1, 0, 1, 0, 1, 0, 0)
            CFrameMon = CFrame.new(-4882.8623, 22.6520386, 4255.53516, 0.273695946, -5.40380647e-08, -0.96181643,
                4.37720793e-08, 1, -4.37274998e-08, 0.96181643, -3.01326679e-08, 0.273695946)
        elseif MyLevel == 150 or MyLevel <= 174 then -- Sky Bandit
            Nonquest = false
            Ms = "Sky Bandit [Lv. 150]"
            NameQuest = "SkyQuest"
            LevelQuest = 1
            NameMon = "Sky Bandit"
            CFrameQuest = CFrame.new(-4839.53027, 716.368591, -2619.44165, 0.866007268, 0, 0.500031412, 0, 1, 0,
                -0.500031412, 0, 0.866007268)
            CFrameMon = CFrame.new(-4959.51367, 365.39267, -2974.56812, 0.964867651, 7.74418396e-08, 0.262737453,
                -6.95931988e-08, 1, -3.91783708e-08, -0.262737453, 1.95171506e-08, 0.964867651)
        elseif MyLevel == 175 or MyLevel <= 189 then -- Dark Master
            Nonquest = false
            Ms = "Dark Master [Lv. 175]"
            NameQuest = "SkyQuest"
            LevelQuest = 2
            NameMon = "Dark Master"
            CFrameQuest = CFrame.new(-4839.53027, 716.368591, -2619.44165, 0.866007268, 0, 0.500031412, 0, 1, 0,
                -0.500031412, 0, 0.866007268)
            CFrameMon = CFrame.new(-5079.98096, 376.477356, -2194.17139, 0.465965867, -3.69776352e-08, 0.884802461,
                3.40249851e-09, 1, 4.00000886e-08, -0.884802461, -1.56281423e-08, 0.465965867)
        elseif MyLevel == 190 or MyLevel <= 209 then
            Nonquest = false
            Ms = "Prisoner [Lv. 190]"
            LevelQuest = 1
            NameQuest = "PrisonerQuest"
            NameMon = "Prisoner"
            CFrameQuest = CFrame.new(5308.93115, 1.65517521, 475.120514, -0.0894274712, -5.00292918e-09, -0.995993316,
                1.60817859e-09, 1, -5.16744869e-09, 0.995993316, -2.06384709e-09, -0.0894274712)
            CFrameMon = CFrame.new(5433.39307, 88.678093, 514.986877, 0.879988372, 0, -0.474995494, 0, 1, 0,
                0.474995494, 0, 0.879988372)
        elseif MyLevel == 210 or MyLevel <= 249 then
            Nonquest = false
            Ms = "Dangerous Prisoner [Lv. 210]"
            LevelQuest = 2
            NameQuest = "PrisonerQuest"
            NameMon = "Dangerous Prisoner"
            CFrameQuest = CFrame.new(5308.93115, 1.65517521, 475.120514, -0.0894274712, -5.00292918e-09, -0.995993316,
                1.60817859e-09, 1, -5.16744869e-09, 0.995993316, -2.06384709e-09, -0.0894274712)
            CFrameMon = CFrame.new(5433.39307, 88.678093, 514.986877, 0.879988372, 0, -0.474995494, 0, 1, 0,
                0.474995494, 0, 0.879988372)
        elseif MyLevel == 250 or MyLevel <= 274 then -- Toga Warrior
            Nonquest = false
            Ms = "Toga Warrior [Lv. 250]"
            NameQuest = "ColosseumQuest"
            LevelQuest = 1
            NameMon = "Toga Warrior"
            CFrameQuest = CFrame.new(-1576.11743, 7.38933945, -2983.30762, 0.576966345, 1.22114863e-09, 0.816767931,
                -3.58496594e-10, 1, -1.24185606e-09, -0.816767931, 4.2370063e-10, 0.576966345)
            CFrameMon = CFrame.new(-1779.97583, 44.6077499, -2736.35474, 0.984437346, 4.10396339e-08, 0.175734788,
                -3.62286876e-08, 1, -3.05844168e-08, -0.175734788, 2.3741821e-08, 0.984437346)
        elseif MyLevel == 275 or MyLevel <= 299 then -- Gladiato
            Nonquest = false
            Ms = "Gladiator [Lv. 275]"
            NameQuest = "ColosseumQuest"
            LevelQuest = 2
            NameMon = "Gladiato"
            CFrameQuest = CFrame.new(-1576.11743, 7.38933945, -2983.30762, 0.576966345, 1.22114863e-09, 0.816767931,
                -3.58496594e-10, 1, -1.24185606e-09, -0.816767931, 4.2370063e-10, 0.576966345)
            CFrameMon = CFrame.new(-1274.75903, 58.1895943, -3188.16309, 0.464524001, 6.21005611e-08, 0.885560572,
                -4.80449414e-09, 1, -6.76054768e-08, -0.885560572, 2.71497012e-08, 0.464524001)
        elseif MyLevel == 300 or MyLevel <= 329 then -- Military Soldier
            Nonquest = false
            Ms = "Military Soldier [Lv. 300]"
            NameQuest = "MagmaQuest"
            LevelQuest = 1
            NameMon = "Military Soldier"
            CFrameQuest = CFrame.new(-5316.55859, 12.2370615, 8517.2998, 0.588437557, -1.37880001e-08, -0.808542669,
                -2.10116209e-08, 1, -3.23446478e-08, 0.808542669, 3.60215964e-08, 0.588437557)
            CFrameMon = CFrame.new(-5363.01123, 41.5056877, 8548.47266, -0.578253984, -3.29503091e-10, 0.815856814,
                9.11209668e-08, 1, 6.498761e-08, -0.815856814, 1.11920997e-07, -0.578253984)
        elseif MyLevel == 330 or MyLevel <= 374 then -- Military Spy
            Nonquest = false
            Ms = "Military Spy [Lv. 325]"
            NameQuest = "MagmaQuest"
            LevelQuest = 2
            NameMon = "Military Spy"
            CFrameQuest = CFrame.new(-5316.55859, 12.2370615, 8517.2998, 0.588437557, -1.37880001e-08, -0.808542669,
                -2.10116209e-08, 1, -3.23446478e-08, 0.808542669, 3.60215964e-08, 0.588437557)
            CFrameMon = CFrame.new(-5787.99023, 120.864456, 8762.25293, -0.188358366, -1.84706277e-08, 0.982100308,
                -1.23782129e-07, 1, -4.93306951e-09, -0.982100308, -1.22495649e-07, -0.188358366)
        elseif MyLevel == 375 or MyLevel <= 399 then -- Fishman Warrior
            Nonquest = false
            Ms = "Fishman Warrior [Lv. 375]"
            NameQuest = "FishmanQuest"
            LevelQuest = 1
            NameMon = "Fishman Warrior"
            CFrameQuest = CFrame.new(61122.5625, 18.4716396, 1568.16504, 0.893533468, 3.95251609e-09, 0.448996574,
                -2.34327455e-08, 1, 3.78297464e-08, -0.448996574, -4.43233645e-08, 0.893533468)
            CFrameMon = CFrame.new(60946.6094, 48.6735229, 1525.91687, -0.0817126185, 8.90751153e-08, 0.996655822,
                2.00889794e-08, 1, -8.77269599e-08, -0.996655822, 1.28533992e-08, -0.0817126185)
        elseif MyLevel == 400 or MyLevel <= 449 then -- Fishman Commando
            Nonquest = false
            Ms = "Fishman Commando [Lv. 400]"
            NameQuest = "FishmanQuest"
            LevelQuest = 2
            NameMon = "Fishman Commando"
            CFrameQuest = CFrame.new(61122.5625, 18.4716396, 1568.16504)
            CFrameMon = CFrame.new(60946.6094, 48.6735229, 1525.916871)
        elseif MyLevel == 450 or MyLevel <= 474 then
            Nonquest = false
            Ms = "God's Guard [Lv. 450]"
            NameQuest = "SkyExp1Quest"
            LevelQuest = 1
            NameMon = "God's Guards"
            CFrameQuest = CFrame.new(-4721.71436, 845.277161, -1954.20105)
            CFrameMon = CFrame.new(-4716.95703, 853.089722, -1933.925427)
        elseif MyLevel == 475 or MyLevel <= 524 then
            Nonquest = false
            Ms = "Shanda [Lv. 475]"
            NameQuest = "SkyExp1Quest"
            LevelQuest = 2
            NameMon = "Shandas"
            CFrameQuest = CFrame.new(-7859.09814, 5544.19043, -381.476196, -0.422592998, 0, 0.906319618, 0, 1, 0,
                -0.906319618, 0, -0.422592998)
            CFrameMon = CFrame.new(-7904.57373, 5584.37646, -459.62973, 0.65171206, 5.11171692e-08, 0.758466363,
                -4.76232476e-09, 1, -6.33034247e-08, -0.758466363, 3.76435416e-08, 0.65171206)
        elseif MyLevel == 525 or MyLevel <= 549 then -- Royal Squad
            Nonquest = false
            Ms = "Royal Squad [Lv. 525]"
            NameQuest = "SkyExp2Quest"
            LevelQuest = 1
            NameMon = "Royal Squad"
            CFrameQuest = CFrame.new(-7906.81592, 5634.6626, -1411.99194, 0, 0, -1, 0, 1, 0, 1, 0, 0)
            CFrameMon = CFrame.new(-7555.04199, 5606.90479, -1303.24744, -0.896107852, -9.6057462e-10, -0.443836004,
                -4.24974544e-09, 1, 6.41599973e-09, 0.443836004, 7.63560326e-09, -0.896107852)
        elseif MyLevel == 550 or MyLevel <= 624 then -- Royal Soldier
            Nonquest = false
            Ms = "Royal Soldier [Lv. 550]"
            NameQuest = "SkyExp2Quest"
            LevelQuest = 2
            NameMon = "Royal Soldier"
            CFrameQuest = CFrame.new(-7906.81592, 5634.6626, -1411.99194, 0, 0, -1, 0, 1, 0, 1, 0, 0)
            CFrameMon = CFrame.new(-7837.31152, 5649.65186, -1791.08582, -0.716008604, 0.0104285581, -0.698013008,
                5.02521061e-06, 0.99988848, 0.0149335321, 0.69809103, 0.0106890313, -0.715928733)
        elseif MyLevel == 625 or MyLevel <= 649 then -- Galley Pirate
            Nonquest = false
            Ms = "Galley Pirate [Lv. 625]"
            NameQuest = "FountainQuest"
            LevelQuest = 1
            NameMon = "Galley Pirate"
            CFrameQuest = CFrame.new(5259.81982, 37.3500175, 4050.0293, 0.087131381, 0, 0.996196866, 0, 1, 0,
                -0.996196866, 0, 0.087131381)
            CFrameMon = CFrame.new(5569.80518, 38.5269432, 3849.01196, 0.896460414, 3.98027495e-08, 0.443124533,
                -1.34262139e-08, 1, -6.26611296e-08, -0.443124533, 5.02237434e-08, 0.896460414)
        elseif MyLevel >= 650 then -- Galley Captain
            Nonquest = false
            Ms = "Galley Captain [Lv. 650]"
            NameQuest = "FountainQuest"
            LevelQuest = 2
            NameMon = "Galley Captain"
            CFrameQuest = CFrame.new(5259.81982, 37.3500175, 4050.0293, 0.087131381, 0, 0.996196866, 0, 1, 0,
                -0.996196866, 0, 0.087131381)
            CFrameMon = CFrame.new(5782.90186, 94.5326462, 4716.78174, 0.361808896, -1.24757526e-06, -0.932252586,
                2.16989656e-06, 1, -4.96097414e-07, 0.932252586, -1.84339774e-06, 0.361808896)
        end
    elseif NewWorld then
        -- æ–°ä¸–ç•Œçš„æ€ªç‰©é…ç½®...
        if MyLevel == 700 or MyLevel <= 724 then -- Raider [Lv. 700]
            Ms = "Raider [Lv. 700]"
            NameQuest = "Area1Quest"
            LevelQuest = 1
            NameMon = "Raider"
            CFrameQuest = CFrame.new(-429.543518, 71.7699966, 1836.18188, -0.22495985, 0, -0.974368095, 0, 1, 0,
                0.974368095, 0, -0.22495985)
            CFrameMon = CFrame.new(-737.026123, 10.1748352, 2392.57959, 0.272128761, 0, -0.962260842, -0, 1, -0,
                0.962260842, 0, 0.272128761)
        -- å…¶ä»–æ–°ä¸–ç•Œæ€ªç‰©é…ç½®...
        end
    elseif ThreeWorld then
        -- ç¬¬ä¸‰ä¸–ç•Œçš„æ€ªç‰©é…ç½®...
        if MyLevel >= 1500 and MyLevel <= 1524 then -- Pirate Millionaire [Lv. 1500]
            Ms = "Pirate Millionaire [Lv. 1500]"
            NameQuest = "PiratePortQuest"
            LevelQuest = 1
            NameMon = "Pirate Millionaire"
            CFrameQuest = CFrame.new(-290.074677, 42.9034653, 5581.58984, 0.965929627, -0, -0.258804798, 0, 1, -0,
                0.258804798, 0, 0.965929627)
            CFrameMon = CFrame.new(81.164993286133, 43.755737304688, 5724.7021484375)
        -- å…¶ä»–ç¬¬ä¸‰ä¸–ç•Œæ€ªç‰©é…ç½®...
        end
    end
end

function click()
    local VirtualUser = game:GetService('VirtualUser')
    VirtualUser:CaptureController()
    VirtualUser:ClickButton1(Vector2.new(851, 158), game:GetService("Workspace").Camera.CFrame)
end

function EquipWeapon(ToolSe)
    if game.Players.LocalPlayer.Backpack:FindFirstChild(ToolSe) then
        local tool = game.Players.LocalPlayer.Backpack:FindFirstChild(ToolSe)
        wait(.4)
        game.Players.LocalPlayer.Character.Humanoid:EquipTool(tool)
    end
end

-- è‡ªåŠ¨åŠŸèƒ½çº¿ç¨‹
spawn(function()
    while true do
        if bai.autofram == true then
            if game:GetService("Players").LocalPlayer.PlayerGui.Main.Quest.Visible == false then
                CheckQuest()
                if OldWorld and (Ms == "Fishman Commando [Lv. 400]" or Ms == "Fishman Warrior [Lv. 375]") and
                    (CFrameQuest.Position -
                        game:GetService("Players").LocalPlayer.Character:WaitForChild("HumanoidRootPart").Position).magnitude >
                    50000 then
                    wait(.5)
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(
                        61163.8515625, 11.6796875, 1819.7841796875))
                elseif OldWorld and not (Ms == "Fishman Commando [Lv. 400]" or Ms == "Fishman Warrior [Lv. 375]") and
                    (CFrameQuest.Position -
                        game:GetService("Players").LocalPlayer.Character:WaitForChild("HumanoidRootPart").Position).magnitude >
                    50000 then
                    wait(.5)
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(
                        3864.8515625, 6.6796875, -1926.7841796875))
                elseif NewWorld and string.find(Ms, "Ship") and
                    (CFrameQuest.Position -
                        game:GetService("Players").LocalPlayer.Character:WaitForChild("HumanoidRootPart").Position).magnitude >
                    30000 then
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(
                        923.21252441406, 126.9760055542, 32852.83203125))
                elseif NewWorld and not string.find(Ms, "Ship") and
                    (CFrameQuest.Position -
                        game:GetService("Players").LocalPlayer.Character:WaitForChild("HumanoidRootPart").Position).magnitude >
                    30000 then
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(
                        -6508.5581054688, 89.034996032715, -132.83953857422))
                elseif (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude <=
                    100 then
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrameQuest
                    wait(.9)
                    local string_1 = "StartQuest";
                    local string_2 = NameQuest;
                    local number_1 = LevelQuest;
                    local Target = game:GetService("ReplicatedStorage").Remotes["CommF_"];
                    Target:InvokeServer(string_1, string_2, number_1);
                    local string_1 = "SetSpawnPoint";
                    local Target = game:GetService("ReplicatedStorage").Remotes["CommF_"];
                    Target:InvokeServer(string_1);
                elseif (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude >
                    100 then
                    tp(CFrameQuest)
                end
            elseif game:GetService("Players").LocalPlayer.PlayerGui.Main.Quest.Visible == true then
                if Nonquest == true then
                    local string_1 = "SetSpawnPoint";
                    local Target = game:GetService("ReplicatedStorage").Remotes["CommF_"];
                    Target:InvokeServer(string_1);
                end
                if game:GetService("Workspace").Enemies:FindFirstChild(Ms) then
                    for i, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
                        if bai.autofram and v.Name == Ms and v:FindFirstChild("HumanoidRootPart") and
                            v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                            if string.find(
                                game.Players.LocalPlayer.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, NameMon) then
                                wait()
                                repeat
                                    wait()
                                    spawn(function()
                                        spawn(function()
                                            local part = Instance.new("Part", workspace)
                                            part.Anchored = true
                                            part.Size = Vector3.new(10, 0.1, 10)
                                            part.Material = "Glass"
                                            part.BrickColor = BrickColor.Random()
                                            part.Transparency = 0.7
                                            part.Position = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position +
                                                                Vector3.new(0, -4, 0)
                                            wait()
                                            part.Destroy(part)
                                        end)
                                        if OldWorld and
                                            (Ms == "Fishman Commando [Lv. 400]" or Ms == "Fishman Warrior [Lv. 375]") and
                                            (CFrameQuest.Position -
                                                game:GetService("Players").LocalPlayer.Character:WaitForChild(
                                                    "HumanoidRootPart").Position).magnitude > 50000 then
                                            wait(.5)
                                            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(
                                                "requestEntrance",
                                                Vector3.new(61163.8515625, 11.6796875, 1819.7841796875))
                                        elseif OldWorld and
                                            not (Ms == "Fishman Commando [Lv. 400]" or Ms == "Fishman Warrior [Lv. 375]") and
                                            (CFrameQuest.Position -
                                                game:GetService("Players").LocalPlayer.Character:WaitForChild(
                                                    "HumanoidRootPart").Position).magnitude > 50000 then
                                            wait(.5)
                                            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(
                                                "requestEntrance",
                                                Vector3.new(3864.8515625, 6.6796875, -1926.7841796875))
                                        elseif NewWorld and string.find(Ms, "Ship") and
                                            (CFrameQuest.Position -
                                                game:GetService("Players").LocalPlayer.Character:WaitForChild(
                                                    "HumanoidRootPart").Position).magnitude > 30000 then
                                            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(
                                                "requestEntrance",
                                                Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
                                        elseif NewWorld and not string.find(Ms, "Ship") and
                                            (CFrameQuest.Position -
                                                game:GetService("Players").LocalPlayer.Character:WaitForChild(
                                                    "HumanoidRootPart").Position).magnitude > 30000 then
                                            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(
                                                "requestEntrance",
                                                Vector3.new(-6508.5581054688, 89.034996032715, -132.83953857422))
                                        end
                                        pcall(function()
                                            if game.Players.LocalPlayer.Character.Humanoid.Health > 0 then
                                                if v:FindFirstChild("HumanoidRootPart") and v:FindFirstChild("Humanoid") and
                                                    (v.HumanoidRootPart.Position -
                                                        game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude <=
                                                    350 then
                                                    PosMon = v.HumanoidRootPart.CFrame
                                                    if not game.Players.LocalPlayer.Character:FindFirstChild("HasBuso") then
                                                        local args = {
                                                            [1] = "Buso"
                                                        }
                                                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(
                                                            unpack(args))
                                                    end
                                                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame =
                                                        v.HumanoidRootPart.CFrame * CFrame.new(0, 30, 1)
                                                    if game.Players.LocalPlayer.Character:FindFirstChild("Black Leg") and
                                                        game.Players.LocalPlayer.Character:FindFirstChild("Black Leg")
                                                            .Level.Value >= 150 then
                                                        local vim = game:service('VirtualInputManager')
                                                        vim:SendKeyEvent(true, "V", false, game)
                                                        vim:SendKeyEvent(false, "V", false, game)
                                                    end
                                                end
                                            end
                                        end)
                                    end)
                                until (not bai.autofram or not v.Parent or v.Humanoid.Health <= 0) or
                                    (not string.find(
                                        game.Players.LocalPlayer.PlayerGui.Main.Quest.Container.QuestTitle.Title
                                            .Text, NameMon)) or
                                    (game:GetService("Players").LocalPlayer.PlayerGui.Main.Quest.Visible == false)
                                if not string.find(game.Players.LocalPlayer.PlayerGui.Main.Quest.Container
                                                       .QuestTitle.Title.Text, NameMon) then
                                    game.ReplicatedStorage:WaitForChild("Remotes").CommF_:InvokeServer(
                                        "AbandonQuest");
                                end
                            else
                                game.ReplicatedStorage:WaitForChild("Remotes").CommF_:InvokeServer("AbandonQuest");
                            end
                        end
                    end
                else
                    tp(CFrameMon)
                end
            end
        end
        wait(.2)
    end
end)

-- è‡ªåŠ¨å‡çº§æœå®çº¿ç¨‹
spawn(function()
    while wait(.2) do
        pcall(function()
            if bai.autosjiguoshi then
                if game.Players.LocalPlayer.PlayerGui.Main.Quest.Visible == false then
                    CheckQuest()
                    if (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude >
                        10 then
                        tp(CFrameQuest)
                    else
                        local string_1 = "StartQuest";
                        local string_2 = NameQuest;
                        local number_1 = LevelQuest;
                        local Target = game:GetService("ReplicatedStorage").Remotes["CommF_"];
                        Target:InvokeServer(string_1, string_2, number_1);
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SetSpawnPoint")
                    end
                elseif game.Players.LocalPlayer.PlayerGui.Main.Quest.Visible == true then
                    CheckQuest()
                    if string.find(game:GetService("Players").LocalPlayer.PlayerGui.Main.Quest.Container.QuestTitle
                                       .Title.Text, NameMon) then
                        if game.Workspace.Enemies:FindFirstChild(Ms) then
                            for i, v in pairs(game.Workspace.Enemies:GetChildren()) do
                                if not string.find(v.Name, "Boss") and v.Humanoid.Health > 0 and
                                    (v.HumanoidRootPart.Position - CFrameMon.Position).Magnitude <= 1000 then
                                    PosMon = v.HumanoidRootPart.CFrame
                                    repeat
                                        wait()
                                        spawn(function()
                                            local part = Instance.new("Part", workspace)
                                            part.Anchored = true
                                            part.Size = Vector3.new(10, 0.1, 10)
                                            part.Material = "Glass"
                                            part.BrickColor = BrickColor.Random()
                                            part.Transparency = 0.7
                                            part.Position = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position +
                                                                Vector3.new(0, -4, 0)
                                            wait()
                                            part.Destroy(part)
                                        end)
                                        local health = v.Humanoid.Health
                                        local maxhealth = v.Humanoid.MaxHealth
                                        local percent = (health / maxhealth) * 100
                                        if percent <= bai.zhangshaxian then
                                            bai.SelectToolWeapon = game.Players.LocalPlayer.Data.DevilFruit.Value
                                            tp(v.HumanoidRootPart.CFrame * CFrame.new(0, 30, 1))
                                            PositionSkillMasteryDevilFruit = v.HumanoidRootPart.Position
                                            if (v.HumanoidRootPart.Position -
                                                game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude <
                                                50 then
                                                if game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                    "Dragon-Dragon") then
                                                    if bai.z and v.Humanoid.Health > 0 then
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "Z",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "Z",
                                                            false, game)
                                                    end
                                                    if bai.x and v.Humanoid.Health > 0 then
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "X",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "X",
                                                            false, game)
                                                    end
                                                elseif game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                    "Human-Human: Buddha") then
                                                    if bai.z and v.Humanoid.Health > 0 and
                                                        game.Players.LocalPlayer.Character.HumanoidRootPart.Size ==
                                                        Vector3.new(7.6, 7.676, 3.686) then
                                                    else
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "Z",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "Z",
                                                            false, game)
                                                    end
                                                    if bai.x and v.Humanoid.Health > 0 then
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "X",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "X",
                                                            false, game)
                                                    end
                                                    if bai.c and v.Humanoid.Health > 0 then
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "C",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "C",
                                                            false, game)
                                                    end
                                                elseif game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                    game.Players.LocalPlayer.Data.DevilFruit.Value) then
                                                    game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                        game.Players.LocalPlayer.Data.DevilFruit.Value).MousePos.Value =
                                                        v.HumanoidRootPart.Position
                                                    if bai.z and v.Humanoid.Health > 0 then
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "Z",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "Z",
                                                            false, game)
                                                    end
                                                    if bai.x and v.Humanoid.Health > 0 then
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "X",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "X",
                                                            false, game)
                                                    end
                                                    if bai.c and v.Humanoid.Health > 0 then
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "C",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "C",
                                                            false, game)
                                                    end
                                                    if bai.v and v.Humanoid.Health > 0 then
                                                        game:service('VirtualInputManager'):SendKeyEvent(true, "V",
                                                            false, game)
                                                        wait(.1)
                                                        game:service('VirtualInputManager'):SendKeyEvent(false, "V",
                                                            false, game)
                                                    end
                                                end
                                            end
                                        elseif percent > bai.zhangshaxian and v.Humanoid.Health > 0 then
                                            if game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                "Human-Human: Buddha") then
                                                if game.Players.LocalPlayer.Character.HumanoidRootPart.Size.Y >= 6 then
                                                    game:service('VirtualInputManager'):SendKeyEvent(true, "Z", false,
                                                        game)
                                                    wait(.1)
                                                    game:service('VirtualInputManager'):SendKeyEvent(false, "Z", false,
                                                        game)
                                                end
                                            end
                                            bai.SelectToolWeapon = bai.SelectToolWeaponOld
                                            spawn(function()
                                                repeat
                                                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame =
                                                        v.HumanoidRootPart.CFrame * CFrame.new(0, 30, 1)
                                                    wait()
                                                until v.Humanoid.Health <= 0 or not v.Parent or not bai.autosjiguoshi
                                            end)
                                            local health = v.Humanoid.Health
                                            local maxhealth = v.Humanoid.MaxHealth
                                            local percent = (health / maxhealth) * 100
                                            if percent > bai.zhangshaxian and v.Humanoid.Health > 0 then
                                                game:GetService 'VirtualUser':Button1Down(Vector2.new(1280, 600))
                                            else
                                                bai.SelectToolWeapon = game.Players.LocalPlayer.Data.DevilFruit.Value
                                                wait(1)
                                            end
                                        end
                                    until v.Humanoid.Health <= 0 or not v.Parent or not bai.autosjiguoshi
                                end
                            end
                        elseif game.ReplicatedStorage:FindFirstChild(Ms) then
                            tp(CFrameMon)
                        else
                            for i, v in pairs(game.Workspace.Enemies:GetChildren()) do
                                if not string.find(v.Name, "Boss") and v.Humanoid.Health > 0 and
                                    (v.HumanoidRootPart.Position - CFrameMon.Position).Magnitude <= 1000 then
                                    PosMon = v.HumanoidRootPart.CFrame
                                    repeat
                                        wait()
                                        local health = v.Humanoid.Health
                                        local maxhealth = v.Humanoid.MaxHealth
                                        local percent = (health / maxhealth) * 100
                                        if percent <= bai.zhangshaxian then
                                            bai.SelectToolWeapon = game.Players.LocalPlayer.Data.DevilFruit.Value
                                            tp(v.HumanoidRootPart.CFrame * CFrame.new(0, 30, 1))
                                            PositionSkillMasteryDevilFruit = v.HumanoidRootPart.Position
                                            spawn(function()
                                                if (v.HumanoidRootPart.Position -
                                                    game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude <
                                                    50 then
                                                    if game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                        "Dragon-Dragon") then
                                                        if bai.z and v.Humanoid.Health > 0 then
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "Z",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "Z",
                                                                false, game)
                                                        end
                                                        if bai.x and v.Humanoid.Health > 0 then
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "X",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "X",
                                                                false, game)
                                                        end
                                                    elseif game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                        "Human-Human: Buddha") then
                                                        if bai.z and v.Humanoid.Health > 0 and
                                                            game.Players.LocalPlayer.Character.HumanoidRootPart.Size ==
                                                            Vector3.new(7.6, 7.676, 3.686) then
                                                        else
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "Z",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "Z",
                                                                false, game)
                                                        end
                                                        if bai.x and v.Humanoid.Health > 0 then
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "X",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "X",
                                                                false, game)
                                                        end
                                                        if bai.c and v.Humanoid.Health > 0 then
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "C",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "C",
                                                                false, game)
                                                        end
                                                    elseif game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                        game.Players.LocalPlayer.Data.DevilFruit.Value) then
                                                        game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                            game.Players.LocalPlayer.Data.DevilFruit.Value).MousePos
                                                            .Value = v.HumanoidRootPart.Position
                                                        if bai.z and v.Humanoid.Health > 0 then
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "Z",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "Z",
                                                                false, game)
                                                        end
                                                        if bai.x and v.Humanoid.Health > 0 then
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "X",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "X",
                                                                false, game)
                                                        end
                                                        if bai.c and v.Humanoid.Health > 0 then
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "C",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "C",
                                                                false, game)
                                                        end
                                                        if bai.v and v.Humanoid.Health > 0 then
                                                            game:service('VirtualInputManager'):SendKeyEvent(true, "V",
                                                                false, game)
                                                            wait(.1)
                                                            game:service('VirtualInputManager'):SendKeyEvent(false, "V",
                                                                false, game)
                                                        end
                                                    end
                                                end
                                            end)
                                        elseif percent > bai.zhangshaxian and v.Humanoid.Health > 0 then
                                            if game:GetService("Players").LocalPlayer.Character:FindFirstChild(
                                                "Human-Human: Buddha") then
                                                if bai.z and v.Humanoid.Health > 0 and
                                                    game.Players.LocalPlayer.Character.HumanoidRootPart.Size ==
                                                    Vector3.new(7.6, 7.676, 3.686) then
                                                    game:service('VirtualInputManager'):SendKeyEvent(true, "Z", false,
                                                        game)
                                                    wait(.1)
                                                    game:service('VirtualInputManager'):SendKeyEvent(false, "Z", false,
                                                        game)
                                                end
                                            end
                                            bai.SelectToolWeapon = bai.SelectToolWeaponOld
                                            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame =
                                                v.HumanoidRootPart.CFrame * CFrame.new(0, 30, 1)
                                            wait()
                                            local health = v.Humanoid.Health
                                            local maxhealth = v.Humanoid.MaxHealth
                                            local percent = (health / maxhealth) * 100
                                            if percent > bai.zhangshaxian and v.Humanoid.Health > 0 then
                                                game:GetService 'VirtualUser':Button1Down(Vector2.new(1280, 600))
                                            else
                                                bai.SelectToolWeapon = game.Players.LocalPlayer.Data.DevilFruit.Value
                                                wait(1)
                                            end
                                        end
                                    until v.Humanoid.Health <= 0 or not v.Parent or not bai.autosjiguoshi
                                end
                            end
                        end
                    end
                end
            end
        end)
    end
end)

-- è‡ªåŠ¨è¢­å‡»çº¿ç¨‹
if NewWorld then
    spawn(function()
        while wait(.2) do
            if bai.autoraid then
                for i,v in pairs(game.Workspace:GetChildren()) do
                    if string.find(v.Name, "Fruit") then
                        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.Handle.CFrame
                    end
                end
                if game:GetService("Players")["LocalPlayer"].PlayerGui.Main.Timer.Visible == false then
                    if not game:GetService("Workspace")["_WorldOrigin"].Locations:FindFirstChild("Island 1")  then
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Cousin","Buy")
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("RaidsNpc", "Select", bai.selectraid)
                    end
                    if not game:GetService("Workspace")["_WorldOrigin"].Locations:FindFirstChild("Island 1") and game.Players.LocalPlayer.Backpack:FindFirstChild("Special Microchip") or  game.Players.LocalPlayer.Character:FindFirstChild("Special Microchip")  then
                        fireclickdetector(game:GetService("Workspace").Map.CircleIsland.RaidSummon2.Button.Main.ClickDetector)
                    end
                end
                for i,v in pairs(game.Workspace.Enemies:GetChildren()) do
                    if bai.autoraid and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 and (v.HumanoidRootPart.Position-game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position).magnitude <= 500 then
                        pcall(function()
                            repeat wait(.1)
                                sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", math.huge)
                                v.HumanoidRootPart.Transparency = 70
                                v.HumanoidRootPart.Size = Vector3.new(50, 50, 50)
                                v.HumanoidRootPart.CanCollide = false
                                if v.Humanoid.Health > 0 then
                                    v.Humanoid.Health = 0 
                                elseif v.Humanoid.Health == 0 then
                                    v.Humanoid.Health = v.Humanoid.MaxHealth
                                else
                                    v.Humanoid.Health = 0 
                                end
                            until not bai.autoraid or not v.Parent or v.Humanoid.Health <= 0
                        end)
                    end
                end
                spawn(function()
                    while wait(.2) do
                        pcall(function()
                            if bai.autoraid then
                                sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", math.huge)
                            end
                        end) 
                    end
                end)
                if game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland5") or game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland4") or game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland3") or game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland2") or game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland1") then
                    if game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland5") then
                        tp(game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland5"):FindFirstChildWhichIsA("Part").CFrame*CFrame.new(0,20,0))
                    elseif game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland4") then
                        tp(game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland4"):FindFirstChildWhichIsA("Part").CFrame*CFrame.new(0,20,0))
                    elseif game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland3") then
                        tp(game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland3"):FindFirstChildWhichIsA("Part").CFrame*CFrame.new(0,20,0))
                    elseif game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland2") then
                        tp(game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland2"):FindFirstChildWhichIsA("Part").CFrame*CFrame.new(0,20,0))
                    elseif game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland1") then
                        -- Do nothing
                    end
                end
                local args = {
                    [1] = "Awakener",
                    [2] = "Check"
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
                local args = {
                    [1] = "Awakener",
                    [2] = "Awaken"
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
            end
        end
    end)
elseif ThreeWorld then
    spawn(function()
        while wait(.2) do
            if bai.autoraid then
                for i,v in pairs(game.Workspace:GetChildren()) do
                    if string.find(v.Name, "Fruit") then
                        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.Handle.CFrame
                    end
                end
                if game:GetService("Players")["LocalPlayer"].PlayerGui.Main.Timer.Visible == false then
                    if not game:GetService("Workspace")["_WorldOrigin"].Locations:FindFirstChild("Island 1")  then
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Cousin","Buy")
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("RaidsNpc", "Select", bai.selectraid)
                    end
                    if not game:GetService("Workspace")["_WorldOrigin"].Locations:FindFirstChild("Island 1") and game.Players.LocalPlayer.Backpack:FindFirstChild("Special Microchip") or  game.Players.LocalPlayer.Character:FindFirstChild("Special Microchip")  then
                        fireclickdetector(game:GetService("Workspace").Map["Boat Castle"].RaidSummon2.Button.Main.ClickDetector)
                    end
                end
                for i,v in pairs(game.Workspace.Enemies:GetChildren()) do
                    if bai.autoraid and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 and (v.HumanoidRootPart.Position-game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position).magnitude <= 500 then
                        pcall(function()
                            repeat wait(.1)
                                sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", math.huge)
                                v.HumanoidRootPart.Transparency = 70
                                v.HumanoidRootPart.Size = Vector3.new(50, 50, 50)
                                v.HumanoidRootPart.CanCollide = false
                                if v.Humanoid.Health > 0 then
                                    v.Humanoid.Health = 0 
                                elseif v.Humanoid.Health == 0 then
                                    v.Humanoid.Health = v.Humanoid.MaxHealth
                                else
                                    v.Humanoid.Health = 0 
                                end
                            until not bai.autoraid or not v.Parent or v.Humanoid.Health <= 0
                        end)
                    end
                end
                spawn(function()
                    while wait(.2) do
                        pcall(function()
                            if bai.autoraid then
                                sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", math.huge)
                            end
                        end) 
                    end
                end)
                if game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland5") or game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland4") or game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland3") or game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland2") or game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland1") then
                    if game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland5") then
                        tp(game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland5"):FindFirstChildWhichIsA("Part").CFrame*CFrame.new(0,20,0))
                    elseif game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland4") then
                        tp(game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland4"):FindFirstChildWhichIsA("Part").CFrame*CFrame.new(0,20,0))
                    elseif game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland3") then
                        tp(game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland3"):FindFirstChildWhichIsA("Part").CFrame*CFrame.new(0,20,0))
                    elseif game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland2") then
                        tp(game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland2"):FindFirstChildWhichIsA("Part").CFrame*CFrame.new(0,20,0))
                    elseif game:GetService("Workspace").Map.RaidMap:FindFirstChild("RaidIsland1") then
                        -- Do nothing
                    end
                end
                local args = {
                    [1] = "Awakener",
                    [2] = "Check"
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
                local args = {
                    [1] = "Awakener",
                    [2] = "Awaken"
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
            end
        end
    end)
else
    notify("å†·","ä½ æ— æ³•ä½¿ç”¨è¢­å‡»ï¼Œè¯·ä½ åˆ°2æˆ–è€…3æµ·å†ä½¿ç”¨",15)
end

-- å…¶ä»–è‡ªåŠ¨åŠŸèƒ½çº¿ç¨‹
spawn(function()
    while wait(.2) do
        pcall(function()
            if bai.autojiansuiguo == true then
                for i, v in pairs(game:GetService("Workspace"):GetChildren()) do
                    if v:IsA("Tool") then
                        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.Handle.CFrame
                        v.Handle.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
                    end
                end
            end
        end)
    end
end)

spawn(function()
    while wait(.2) do
        if bai.fanwei then
            for i,v in pairs(game.Workspace.Enemies:GetChildren()) do
                if bai.fanwei and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 and (v.HumanoidRootPart.Position-game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position).magnitude <= 500 then
                    pcall(function()
                        repeat wait(.1)
                            sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", math.huge)
                            v.HumanoidRootPart.Transparency = 1
                            v.HumanoidRootPart.Size = Vector3.new(50, 50, 50)
                            v.HumanoidRootPart.CanCollide = false
                            if v.Humanoid.Health > 0 then
                                v.Humanoid.Health = 0 
                            elseif v.Humanoid.Health == 0 then
                                v.Humanoid.Health = v.Humanoid.MaxHealth
                            else
                                v.Humanoid.Health = 0 
                            end
                        until not bai.fanwei or not v.Parent or v.Humanoid.Health <= 0
                    end)
                end
            end
        end
    end
end)

-- è‡ªåŠ¨å‰å¾€æ–°ä¸–ç•Œçº¿ç¨‹
spawn(function()
    while wait(.2) do
        if bai.autonew then
            local MyLevel = game.Players.localPlayer.Data.Level.Value
            if MyLevel >= 700 and OldWorld and bai.autonew then
                bai.autofram = false
                if game.ReplicatedStorage.Remotes.CommF_:InvokeServer("DressrosaQuestProgress", "Dressrosa") ~= 0 then
                    if Workspace.Map.Ice.Door.Transparency == 1 then
                        if (CFrame.new(1347.7124, 37.3751602, -1325.6488).Position -
                            game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude > 250 then
                            if game.Players.LocalPlayer.Backpack:FindFirstChild("Key") then
                                local tool = game.Players.LocalPlayer.Backpack:FindFirstChild("Key")
                                wait(.4)
                                game.Players.LocalPlayer.Character.Humanoid:EquipTool(tool)
                            end
                            tp(CFrame.new(1347.7124, 37.3751602, -1325.6488), true)
                            if (CFrame.new(1347.7124, 37.3751602, -1325.6488).Position -
                                game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude <= 250 then
                                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(1347.7124,
                                    37.3751602, -1325.6488)
                            end
                        elseif game.Workspace.Enemies:FindFirstChild("Ice Admiral [Lv. 700] [Boss]") and
                            game.Workspace.Map.Ice.Door.CanCollide == false and game.Workspace.Map.Ice.Door.Transparency ==
                            1 and
                            (CFrame.new(1347.7124, 37.3751602, -1325.6488).Position -
                                game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude <= 350 then
                            for i, v in pairs(game.Workspace.Enemies:GetChildren()) do
                                if v:IsA("Model") and v:FindFirstChild("Humanoid") and
                                    v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 and v.Name ==
                                    "Ice Admiral [Lv. 700] [Boss]" then
                                    repeat
                                        wait()
                                        if (v.HumanoidRootPart.Position -
                                            game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude >
                                            300 then
                                            tp(v.HumanoidRootPart.CFrame, true)
                                        elseif (v.HumanoidRootPart.Position -
                                            game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude <=
                                            300 then
                                            EquipWeapon(bai.SelectToolWeapon)
                                            bai.fastacttack = true
                                            if not game.Players.LocalPlayer.Character:FindFirstChild("HasBuso") then
                                                local args = {
                                                    [1] = "Buso"
                                                }
                                                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(
                                                    args))
                                            end
                                            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame =
                                                v.HumanoidRootPart.CFrame * CFrame.new(0, 30, 1)
                                            click()
                                        end
                                    until not v.Parent or v.Humanoid.Health <= 0 or bai.autonew == false
                                    bai.fastacttack = false
                                end
                            end
                        end
                    else
                        if game.Players.LocalPlayer.Backpack:FindFirstChild("Key") or
                            game.Players.LocalPlayer.Character:FindFirstChild("Key") then
                            tp(CFrame.new(1347.7124, 37.3751602, -1325.6488), true)
                            if (CFrame.new(1347.7124, 37.3751602, -1325.6488).Position -
                                game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude <= 250 then
                                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(1347.7124,
                                    37.3751602, -1325.6488)
                                local args = {
                                    [1] = "DressrosaQuestProgress",
                                    [2] = "Detective"
                                }
                                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
                                wait(0.5)
                                if game.Players.LocalPlayer.Backpack:FindFirstChild("Key") then
                                    local tool = game.Players.LocalPlayer.Backpack:FindFirstChild("Key")
                                    wait(.4)
                                    game.Players.LocalPlayer.Character.Humanoid:EquipTool(tool)
                                end
                            end
                        else
                            tp(CFrame.new(4849.29883, 5.65138149, 719.611877), true)
                            if (CFrame.new(4849.29883, 5.65138149, 719.611877).Position -
                                game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude <= 250 then
                                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(4849.29883,
                                    5.65138149, 719.611877)
                                local args = {
                                    [1] = "DressrosaQuestProgress",
                                    [2] = "Detective"
                                }
                                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
                                wait(0.5)
                                if game.Players.LocalPlayer.Backpack:FindFirstChild("Key") then
                                    local tool = game.Players.LocalPlayer.Backpack:FindFirstChild("Key")
                                    wait(.4)
                                    game.Players.LocalPlayer.Character.Humanoid:EquipTool(tool)
                                end
                            end
                        end
                    end
                else
                    local args = {
                        [1] = "TravelDressrosa" -- OLD WORLD to NEW WORLD
                    }
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
                end
            end
        end
    end
end)

-- æ­¦å™¨åˆ‡æ¢çº¿ç¨‹
spawn(function()
    while task.wait(.2) do
        if bai.autofram == true or bai.autosjiguoshi == true then
            EquipWeapon(bai.SelectToolWeapon)
        end
    end
end)

-- æˆ˜æ–—æ¡†æ¶ä¼˜åŒ–
local CombatFrameworkROld = require(game:GetService("Players").LocalPlayer.PlayerScripts.CombatFramework)
local CombatFrameworkR = getupvalues(CombatFrameworkROld)[2]
local CameraShakerR = require(game.ReplicatedStorage.Util.CameraShaker)
CameraShakerR:Stop()

spawn(function()
    game:GetService("RunService").Stepped:Connect(function()
        pcall(function()
            CombatFrameworkR.activeController.hitboxMagnitude = 55
            if bai.fastacttack == true then
                if game.Players.LocalPlayer.Character:FindFirstChild("Black Leg") then
                    CombatFrameworkR.activeController.timeToNextAttack = 3
                elseif game.Players.LocalPlayer.Character:FindFirstChild("Electro") then
                    CombatFrameworkR.activeController.timeToNextAttack = 2
                else
                    CombatFrameworkR.activeController.timeToNextAttack = 0
                end
                CombatFrameworkR.activeController.attacking = false
                CombatFrameworkR.activeController.increment = 3
                CombatFrameworkR.activeController.blocking = false
                CombatFrameworkR.activeController.timeToNextBlock = 0
                game.Players.LocalPlayer.Character.Humanoid.Sit = false
            end
        end)
    end)
end)

spawn(function()
    game:GetService("RunService").Stepped:Connect(function()
        pcall(function()
            if bai.fastacttack == true then
                click()
            end
        end)
    end)
end)

-- å²›å±¿é…ç½®
if OldWorld then
    Island = {
        ["åˆå§‹å²›"] = CFrame.new(1071.2832, 16.3085976, 1426.86792),
        ["åˆå§‹æµ·æ´‹"] = CFrame.new(-2573.3374, 6.88881969, 2046.99817),
        ["ä¸­éƒ¨åŸé•‡"] = CFrame.new(-655.824158, 7.88708115, 1436.67908),
        ["ä¸›æ—"] = CFrame.new(-1249.77222, 11.8870859, 341.356476),
        ["æµ·ç›—æ‘"] = CFrame.new(-1122.34998, 4.78708982, 3855.91992),
        ["æ²™æ¼ "] = CFrame.new(1094.14587, 6.47350502, 4192.88721),
        ["å†°å†»æ‘åº„"] = CFrame.new(1198.00928, 27.0074959, -1211.73376),
        ["é©¬æ—ç¦ç‰¹"] = CFrame.new(-4505.375, 20.687294, 4260.55908),
        ["æ–—å…½åœº"] = CFrame.new(-1428.35474, 7.38933945, -3014.37305),
        ["å¤©ç©º1æ¥¼"] = CFrame.new(-4970.21875, 717.707275, -2622.35449),
        ["å¤©ç©º2æ¥¼"] = CFrame.new(-4813.0249, 903.708557, -1912.69055),
        ["å¤©ç©º3æ¥¼"] = CFrame.new(-7952.31006, 5545.52832, -320.704956),
        ["ç›‘ç‹±"] = CFrame.new(4854.16455, 5.68742752, 740.194641),
        ["å²©æµ†æ‘"] = CFrame.new(-5231.75879, 8.61593437, 8467.87695),
        ["æ°´ä¸‹åŸå¸‚"] = CFrame.new(61163.8516, 11.7796879, 1819.78418),
        ["å–·æ³‰åŸ"] = CFrame.new(5132.7124, 4.53632832, 4037.8562),
        ["èµ›åšæ ¼ä¹‹å®¶"] = CFrame.new(6262.72559, 71.3003616, 3998.23047),
        ["Shank çš„æˆ¿é—´"] = CFrame.new(-1442.16553, 29.8788261, -28.3547478),
        ["é»‘å¸®å²›"] = CFrame.new(-2850.20068, 7.39224768, 5354.99268)
    }
    Island1 = {"åˆå§‹å²›", "åˆå§‹æµ·æ´‹", "ä¸­éƒ¨åŸé•‡", "ä¸›æ—", "æµ·ç›—æ‘", "æ²™æ¼ ", "å†°å†»æ‘åº„",
               "é©¬æ—ç¦ç‰¹", "æ–—å…½åœº", "å¤©ç©º1æ¥¼", "å¤©ç©º2æ¥¼", "å¤©ç©º3æ¥¼", "ç›‘ç‹±", "å²©æµ†æ‘",
               "æ°´ä¸‹åŸå¸‚", "å–·æ³‰åŸ", "èµ›åšæ ¼ä¹‹å®¶", "Shank çš„æˆ¿é—´", "é»‘å¸®å²›"}
elseif NewWorld then
    Island = {
        ["åˆå§‹å²›"] = CFrame.new(82.9490662, 18.0710983, 2834.98779),
        ["ç«ç‘°ç‹å›½"] = game.Workspace["_WorldOrigin"].Locations["Kingdom of Rose"].CFrame,
        ["é»‘æš—åŒºåŸŸ"] = game.Workspace["_WorldOrigin"].Locations["Dark Arena"].CFrame,
        ["æ˜å“¥å¤§å¦"] = CFrame.new(-390.096313, 331.886475, 673.464966),
        ["æ˜å“¥æˆ¿é—´"] = CFrame.new(2302.19019, 15.1778421, 663.811035),
        ["ç»¿è‰²åœ°åŒº"] = CFrame.new(-2372.14697, 72.9919434, -3166.51416),
        ["å’–å•¡é¦†"] = CFrame.new(-385.250916, 73.0458984, 297.388397),
        ["å·¥å‚"] = CFrame.new(430.42569, 210.019623, -432.504791),
        ["ç½—é©¬ç«æŠ€åœº"] = CFrame.new(-1836.58191, 44.5890656, 1360.30652),
        ["å¹½çµå²›"] = CFrame.new(-5571.84424, 195.182297, -795.432922),
        ["å¹½çµå²›2"] = CFrame.new(-5931.77979, 5.19706631, -1189.6908),
        ["é›ªå±±"] = CFrame.new(1384.68298, 453.569031, -4990.09766),
        ["å†·å’Œçƒ­"] = CFrame.new(-6026.96484, 14.7461271, -5071.96338),
        ["å²©æµ†è¾¹"] = CFrame.new(-5478.39209, 15.9775667, -5246.9126),
        ["è¯…å’’çš„èˆ¹"] = CFrame.new(902.059143, 124.752518, 33071.8125),
        ["éœœå†»å²›"] = CFrame.new(5400.40381, 28.21698, -6236.99219),
        ["è¢«é—å¿˜çš„å²›å±¿"] = CFrame.new(-3043.31543, 238.881271, -10191.5791),
        ["ç´¢é˜¿æ™®å²›"] = CFrame.new(4748.78857, 8.35370827, 2849.57959),
        ["ä½ç©ºçªè¢­"] = CFrame.new(-5554.95313, 329.075623, -5930.31396),
        ["è¿·ä½ å¤©ç©º"] = CFrame.new(-260.358917, 49325.7031, -35259.3008)
    }
    Island1 = {"åˆå§‹å²›", "ç«ç‘°ç‹å›½", "é»‘æš—åŒºåŸŸ", "æ˜å“¥å¤§å¦", "æ˜å“¥æˆ¿é—´", "ç»¿è‰²åœ°åŒº", "å’–å•¡é¦†",
               "å·¥å‚", "ç½—é©¬ç«æŠ€åœº", "å¹½çµå²›", "å¹½çµå²›2", "é›ªå±±", "å†·å’Œçƒ­", "å²©æµ†è¾¹",
               "è¯…å’’çš„èˆ¹", "éœœå†»å²›", "è¢«é—å¿˜çš„å²›å±¿", "ç´¢é˜¿æ™®å²›", "ä½ç©ºçªè¢­", "è¿·ä½ å¤©ç©º"}
elseif ThreeWorld then
    Island = {
        ["åˆå§‹å²›"] = CFrame.new(-287, 30, 5388),
        ["ä¹å¤´è›‡å²›"] = CFrame.new(3399.32227, 72.4142914, 1572.99963, -0.809679806, -4.48284467e-08, 0.586871922,
            2.42332163e-08, 1, 1.09818842e-07, -0.586871922, 1.0313989e-07, -0.809679806),
        ["æˆ¿é—´Enma/Yama&Secretå¯ºåº™"] = CFrame.new(5247, 7, 1097),
        ["ä¹å¤´è›‡å²›åˆ«å¢…"] = CFrame.new(5245, 602, 251),
        ["ä¸–ç•Œæ ‘"] = CFrame.new(2443, 36, -6573),
        ["æµ·ä¸ŠåŸå ¡"] = CFrame.new(-5500, 314, -2855),
        ["è±ªå®…"] = CFrame.new(-12548, 337, -7481),
        ["æ¼‚æµ®çš„æµ·é¾Ÿ"] = CFrame.new(-10016, 332, -8326),
        ["é—¹é¬¼åŸå ¡"] = CFrame.new(-9509.34961, 142.130661, 5535.16309),
        ["èŠ±ç”Ÿå²›"] = CFrame.new(-2131, 38, -10106),
        ["å†°æ·‡æ·‹å²›"] = CFrame.new(-950, 59, -10907),
        ["è›‹ç³•å²›"] = CFrame.new(-1762, 38, -11878),
        ["åœ£è¯å²›"] = CFrame.new(-1083.08093, 5.79677963, -14144.5029)
    }
    Island1 = {"åˆå§‹å²›", "ä¹å¤´è›‡å²›", "æˆ¿é—´Enma/Yama&Secretå¯ºåº™", "ä¹å¤´è›‡å²›åˆ«å¢…", "ä¸–ç•Œæ ‘", "æµ·ä¸ŠåŸå ¡",
               "è±ªå®…", "æ¼‚æµ®çš„æµ·é¾Ÿ", "é—¹é¬¼åŸå ¡", "èŠ±ç”Ÿå²›", "å†°æ·‡æ·‹å²›", "è›‹ç³•å²›", "åœ£è¯å²›"}
end

-- æ­¦å™¨åˆ—è¡¨
Wapon = {}
for i, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
    if v:IsA("Tool") then
        table.insert(Wapon, v.Name)
    end
end
for i, v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do
    if v:IsA("Tool") then
        table.insert(Wapon, v.Name)
    end
end

-- åˆ›å»ºä¸»çª—å£å‡½æ•°
function createMainWindow()
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hum = Character:WaitForChild("HumanoidRootPart")
    local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

    local Window = WindUI:CreateWindow({
        Title = "æ±Ÿ<font color='#00FF00'>1.0</font> / æ±Ÿ",
        Icon = "rbxassetid://4483362748",
        IconTransparency = 0.5,
        IconThemed = true,
        Author = "ä½œè€…:æ±Ÿ",
        Folder = "CloudHub",
        Size = UDim2.fromOffset(400, 600),
        Transparent = true,
        Theme = "Dark",
        User = {
            Enabled = true,
            Callback = function() print("clicked") end,
            Anonymous = false
        },
        SideBarWidth = 200,
        ScrollBarEnabled = true,
    })
  
    local TimeTag = Window:Tag({
        Title = "00:00",
        Color = Color3.fromHex("#30ff6a")
    })
    
    -- å½©è™¹æ•ˆæœå’Œæ—¶é—´æ›´æ–°
    local hue = 0
    task.spawn(function()
        while true do
            local now = os.date("*t")
            local hours = string.format("%02d", now.hour)
            local minutes = string.format("%02d", now.min)
            
            hue = (hue + 0.01) % 1
            local color = Color3.fromHSV(hue, 1, 1)
            
            TimeTag:SetTitle(hours .. ":" .. minutes)
            task.wait(0.06)
        end
    end)
    
    Window:Tag({
        Title = "æ±Ÿçš„ä¸“å±",
        Color = Color3.fromHex("#315dff")
    })
    
    local TimeTag = Window:Tag({
        Title = "xpç‹¬å®¶å®šåˆ¶",
        Color = Color3.fromHex("#000000")
    })

    -- åˆ›å»ºå¸¦æœ‰è‡ªå®šä¹‰å›¾æ ‡çš„æ‰“å¼€æŒ‰é’®
    Window:EditOpenButton({
        Title = "æ±Ÿè„šæœ¬",
        Icon = "rbxassetid://135846262070743",
        IconSize = 40,
        CornerRadius = UDim.new(0,16),
        StrokeThickness = 2,
        Color = ColorSequence.new(
            Color3.fromHex("FF0F7B"), 
            Color3.fromHex("F89B29")
        ),
        Draggable = true,
    })
    
    -- æ·»åŠ å½©è™¹è¾¹æ¡†æ•ˆæœ
    Window:EditOpenButton({
        StrokeColor = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
            ColorSequenceKeypoint.new(0.2, Color3.fromRGB(255, 165, 0)),
            ColorSequenceKeypoint.new(0.4, Color3.fromRGB(255, 255, 0)),
            ColorSequenceKeypoint.new(0.6, Color3.fromRGB(0, 255, 0)),
            ColorSequenceKeypoint.new(0.8, Color3.fromRGB(0, 0, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(128, 0, 128))
        }),
        StrokeThickness = 3,
    })
    
    -- ä¸»é¡µé€‰é¡¹å¡
    local MainTab = Window:Tab({
        Title = "ä¸»é¡µ",
        Icon = "zap",
        Locked = false,
    })
    
    MainTab:Paragraph({
        Title = "æ¬¢è¿ä½¿ç”¨æ±Ÿ",
        Desc = "QQ 3667568342",
        Image = "rbxassetid://114477834305321",
        ImageSize = 42,
        Thumbnail = "rbxassetid://96291371536118",
        ThumbnailSize = 120
    })
    
    MainTab:Paragraph({
        Title = "æ„Ÿè°¢XPç”¨æˆ·çš„æ”¯æŒ",
        Desc = "å½“å‰æœåŠ¡å™¨ID: " .. game.PlaceId,
    })
    
    MainTab:Paragraph({
        Title = "æ‚¨çš„æ³¨å…¥å™¨",
        Desc = ": " .. identifyexecutor(),
    })
    
    -- è‡ªåŠ¨åŠŸèƒ½é€‰é¡¹å¡
    local AutoTab = Window:Tab({
        Title = "è‡ªåŠ¨åŠŸèƒ½",
        Icon = "settings",
        Locked = false,
    })
    
    -- é€‰æ‹©æ­¦å™¨éƒ¨åˆ†
    local weaponSection = AutoTab:Section({
        Title = "é€‰æ‹©æ­¦å™¨",
        Side = "Left"
    })
    
    local weaponDropdown = weaponSection:Dropdown({
        Title = "é€‰æ‹©æ­¦å™¨",
        List = Wapon,
        Callback = function(Value)
            bai.SelectToolWeapon = Value
            bai.SelectToolWeaponOld = Value
        end
    })
    
    weaponSection:Button({
        Title = "åˆ·æ–°æ­¦å™¨",
        Callback = function()
            Wapon = {}
            for i, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
                if v:IsA("Tool") then
                    table.insert(Wapon, v.Name)
                end
            end
            for i, v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do
                if v:IsA("Tool") then
                    table.insert(Wapon, v.Name)
                end
            end
            weaponDropdown:SetList(Wapon)
        end
    })
    
    -- è‡ªåŠ¨åŠŸèƒ½éƒ¨åˆ†
    local autoSection = AutoTab:Section({
        Title = "è‡ªåŠ¨åŠŸèƒ½",
        Side = "Right"
    })
    
    autoSection:Toggle({
        Title = "è‡ªåŠ¨å‡çº§",
        Callback = function(v)
            if bai.SelectToolWeapon == nil then
                return notify("å†·", "è¯·ä½ é€‰æ‹©æ­¦å™¨", 4)
            end
            if v then
                NoClip(true)
                bai.fastacttack = true
                bai.autofram = true
            else
                NoClip(false)
                bai.fastacttack = false
                bai.autofram = false
            end
        end
    })
    
    if OldWorld then
        autoSection:Toggle({
            Title = "è‡ªåŠ¨å‰å¾€2æµ·",
            Callback = function(v)
                bai.autonew = v
            end
        })
    end
    
    autoSection:Toggle({
        Title = "è‡ªåŠ¨èµšé’±",
        Callback = function(v)
            game:service 'ReplicatedStorage'.Remotes.CommF_:InvokeServer("SetTeam", "Pirates")
            if v == true then
                bai.zidongzhuanqian = true
            else
                bai.zidongzhuanqian = false
            end
        end
    })
    
    -- è‡ªåŠ¨å‡çº§æœå®éƒ¨åˆ†
    local fruitSection = AutoTab:Section({
        Title = "è‡ªåŠ¨å‡çº§æœå®",
        Side = "Left"
    })
    
    fruitSection:Slider({
        Title = "æ–©æ€çº¿",
        Default = 17,
        Min = 1,
        Max = 30,
        Callback = function(s)
            bai.zhangshaxian = s
        end
    })
    
    fruitSection:Toggle({
        Title = "è‡ªåŠ¨å‡çº§æœå®",
        Callback = function(v)
            if bai.SelectToolWeapon == nil then
                return notify("å†·", "è¯·ä½ é€‰æ‹©æ­¦å™¨", 4)
            end
            if v then
                bai.fastacttack = true
                bai.autosjiguoshi = true
            else
                bai.fastacttack = false
                bai.autosjiguoshi = false
            end
        end
    })
    
    fruitSection:Toggle({
        Title = "ä½¿ç”¨xé”®",
        Default = true,
        Callback = function(v)
            bai.x = v
        end
    })
    
    fruitSection:Toggle({
        Title = "ä½¿ç”¨zé”®",
        Default = true,
        Callback = function(v)
            bai.z = v
        end
    })
    
    fruitSection:Toggle({
        Title = "ä½¿ç”¨cé”®",
        Default = true,
        Callback = function(v)
            bai.c = v
        end
    })
    
    fruitSection:Toggle({
        Title = "ä½¿ç”¨vé”®",
        Default = true,
        Callback = function(v)
            bai.v = v
        end
    })
    
    -- ä¼ é€åŠŸèƒ½é€‰é¡¹å¡
    local TeleportTab = Window:Tab({
        Title = "ä¼ é€åŠŸèƒ½",
        Icon = "map-pin",
        Locked = false,
    })
    
    local teleportSection = TeleportTab:Section({
        Title = "ä¸–ç•Œä¼ é€",
        Side = "Left"
    })
    
    teleportSection:Button({
        Title = "ä¼ é€åˆ°1æµ·",
        Callback = function()
            local args = {
                [1] = "TravelMain"
            }
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
        end
    })
    
    teleportSection:Button({
        Title = "ä¼ é€åˆ°2æµ·",
        Callback = function()
            local args = {
                [1] = "TravelDressrosa"
            }
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
        end
    })
    
    teleportSection:Button({
        Title = "ä¼ é€åˆ°3æµ·",
        Callback = function()
            local args = {
                [1] = "TravelZou"
            }
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
        end
    })
    
    local islandSection = TeleportTab:Section({
        Title = "å²›å±¿ä¼ é€",
        Side = "Right"
    })
    
    islandSection:Dropdown({
        Title = "é€‰æ‹©å²›å±¿",
        List = Island1,
        Callback = function(Value)
            bai.daoyu = Value
            tp(Island[bai.daoyu])
        end
    })
    
    -- åŠ ç‚¹åŠŸèƒ½é€‰é¡¹å¡
    local StatsTab = Window:Tab({
        Title = "åŠ ç‚¹åŠŸèƒ½",
        Icon = "trending-up",
        Locked = false,
    })
    
    local statsSection = StatsTab:Section({
        Title = "è‡ªåŠ¨åŠ ç‚¹",
        Side = "Left"
    })
    
    local pointAmount = 1
    statsSection:Textbox({
        Title = "åŠ ç‚¹æ•°é‡",
        Default = "1",
        Callback = function(txt)
            pointAmount = tonumber(txt) or 1
        end
    })
    
    statsSection:Toggle({
        Title = "è¿‘æˆ˜",
        Callback = function(v)
            while v do
                wait()
                local args = {
                    [1] = "AddPoint",
                    [2] = "Melee",
                    [3] = pointAmount
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
            end
        end
    })
    
    statsSection:Toggle({
        Title = "ç”Ÿå‘½",
        Callback = function(v)
            while v do
                wait()
                local args = {
                    [1] = "AddPoint",
                    [2] = "Defense",
                    [3] = pointAmount
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
            end
        end
    })
    
    statsSection:Toggle({
        Title = "å‰‘",
        Callback = function(v)
            while v do
                wait()
                local args = {
                    [1] = "AddPoint",
                    [2] = "Sword",
                    [3] = pointAmount
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
            end
        end
    })
    
    statsSection:Toggle({
        Title = "æª",
        Callback = function(v)
            while v do
                wait()
                local args = {
                    [1] = "AddPoint",
                    [2] = "Gun",
                    [3] = pointAmount
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
            end
        end
    })
    
    statsSection:Toggle({
        Title = "æ°´æœ",
        Callback = function(v)
            while v do
                wait()
                local args = {
                    [1] = "AddPoint",
                    [2] = "Demon Fruit",
                    [3] = pointAmount
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
            end
        end
    })
    
    -- å…¶ä»–åŠŸèƒ½é€‰é¡¹å¡
    local OtherTab = Window:Tab({
        Title = "å…¶ä»–åŠŸèƒ½",
        Icon = "package",
        Locked = false,
    })
    
    local otherSection = OtherTab:Section({
        Title = "å…¶ä»–åŠŸèƒ½",
        Side = "Left"
    })
    
    otherSection:Toggle({
        Title = "å¿«é€Ÿç‚¹å‡»",
        Callback = function(state)
            if state then
                bai.fastacttack = true
                task.spawn(function()
                    while bai.fastacttack do
                        task.wait(0.2)
                        click()
                    end
                end)
            else
                bai.fastacttack = false
            end
        end
    })
    
    otherSection:Button({
        Title = "æ‰“å¼€æœå®èƒŒåŒ…",
        Callback = function()
            game:GetService("Players").LocalPlayer.PlayerGui.Main.FruitInventory.Visible = true
        end
    })
    
    otherSection:Toggle({
        Title = "è‡ªåŠ¨æ¡æ°´æœ",
        Callback = function(v)
            bai.autojiansuiguo = v
        end
    })
    
    -- è®¾ç½®é€‰é¡¹å¡
    local SettingsTab = Window:Tab({
        Title = "è®¾ç½®",
        Icon = "settings",
        Locked = false,
    })
    
    local settingsSection = SettingsTab:Section({
        Title = "è®¾ç½®",
        Side = "Left"
    })
    
    settingsSection:Toggle({
        Title = "ä½¿ç”¨æ­»äº¡ä¼ é€",
        Callback = function(v)
            bai.usefasttp = v
        end
    })
    
    -- è‡ªåŠ¨è¢­å‡»é€‰é¡¹å¡
    local RaidTab = Window:Tab({
        Title = "è‡ªåŠ¨è¢­å‡»",
        Icon = "sword",
        Locked = false,
    })
    
    local raidSection = RaidTab:Section({
        Title = "è‡ªåŠ¨è¢­å‡»",
        Side = "Left"
    })
    
    raidSection:Dropdown({
        Title = "é€‰æ‹©ç±»å‹",
        List = {"ç«ç„°","å†°","åœ°éœ‡","é—ªé—ª","é»‘æš—","å¼¦","éš†éš†","å²©æµ†","ä½›"},
        Callback = function(Value)
            if Value=="ç«ç„°" then
                bai.selectraid = "Flame"
            elseif Value=="å†°" then
                bai.selectraid = "Ice"
            elseif Value=="åœ°éœ‡" then
                bai.selectraid = "Quake"
            elseif Value=="é—ªé—ª" then
                bai.selectraid = "Light"
            elseif Value=="é»‘æš—" then
                bai.selectraid = "Dark"
            elseif Value=="å¼¦" then
                bai.selectraid = "String"
            elseif Value=="éš†éš†" then
                bai.selectraid = "Rumble" 
            elseif Value=="å²©æµ†" then
                bai.selectraid = "Magma" 
            elseif Value=="ä½›" then
                bai.selectraid = "Human: Buddha" 
            end
        end
    })
    
    raidSection:Toggle({
        Title = "è‡ªåŠ¨è¢­å‡»",
        Callback = function(v)
            bai.autoraid = v
        end
    })
    
    raidSection:Toggle({
        Title = "è‡ªåŠ¨æ€æ­»é™„è¿‘çš„æ€ª",
        Callback = function(v)
            bai.fanwei = v
        end
    })
    
    -- åŠŸèƒ½é€‰é¡¹å¡
    local FeaturesTab = Window:Tab({
        Title = "åŠŸèƒ½",
        Icon = "zap",
        Locked = false,
    })
    
    FeaturesTab:Paragraph({
        Title = "æ±Ÿè„šæœ¬åŠŸèƒ½",
        Desc = "æ‰€æœ‰åŠŸèƒ½å·²æˆåŠŸæ•´åˆåˆ°WindUIç•Œé¢ä¸­",
        Image = "rbxassetid://114477834305321",
        ImageSize = 42
    })
end

-- åˆå§‹åŒ–
CheckQuest()

-- è¿œç¨‹hook
spawn(function()
    local gg = getrawmetatable(game)
    local old = gg.__namecall
    setreadonly(gg, false)
    gg.__namecall = newcclosure(function(...)
        local method = getnamecallmethod()
        local args = {...}
        if tostring(method) == "FireServer" then
            if tostring(args[1]) == "RemoteEvent" then
                if tostring(args[2]) ~= "true" and tostring(args[2]) ~= "false" then
                    if bai.autosjiguoshi then
                        args[2] = PositionSkillMasteryDevilFruit
                        return old(unpack(args))
                    end
                end
            end
        end
        return old(...)
    end)
end)

-- å¿ƒè·³å‡½æ•°
game:GetService("RunService").Heartbeat:Connect(
	function()
		if bai.autofram or bai.autosjiguoshi then
			if game:GetService("Players").LocalPlayer.Character:FindFirstChild("Humanoid") then
				game:GetService("Players").LocalPlayer.Character.Humanoid:ChangeState(11)
			end
		end
	end)

-- å†»ç»“æ•Œäºº
spawn(function()
    game:GetService("RunService").Heartbeat:Connect(function()
        if bai.autofram == true or bai.autosjiguoshi == true then
            CheckQuest()
            pcall(function()
                for i, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
                    if v.Name == Ms then
                        if v.Humanoid:FindFirstChild("Animator") then
                            v.Humanoid.Animator:Destroy()
                        end
                        local freeze = Instance.new("BodyVelocity", v.HumanoidRootPart)
                        freeze.Velocity = Vector3.new(0, 0, 0)
                        freeze.P = 100000
                        v.HumanoidRootPart.CFrame = PosMon
                        v.Humanoid.JumpPower = 0
                        v.Humanoid.WalkSpeed = 0
                        v.HumanoidRootPart.CanCollide = false
                        v.HumanoidRootPart.Size = Vector3.new(50, 50, 50)
                        sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", math.huge)
                        v.Humanoid:ChangeState(11)
                    end
                end
            end)
        end
    end)
end)
